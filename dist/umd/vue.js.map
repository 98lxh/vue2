{"version":3,"file":"vue.js","sources":["../../src/compiler/generate.js","../../src/utils/isUnaryTag.js","../../src/compiler/parserHTML.js","../../src/compiler/index.js","../../src/observer/dep.js","../../src/utils/index.js","../../src/observer/array.js","../../src/observer/index.js","../../src/utils/nextTick.js","../../src/schedular.js","../../src/observer/watcher.js","../../src/state.js","../../src/vdom/patch.js","../../src/lifecycle.js","../../src/utils/merge.js","../../src/init.js","../../src/utils/isReservedTag.js","../../src/vdom/createElement.js","../../src/render.js","../../src/globalAPI/const.js","../../src/globalAPI/assets.js","../../src/globalAPI/initExtend.js","../../src/globalAPI/mixin.js","../../src/globalAPI/index.js","../../src/index.js"],"sourcesContent":["function gen(node) {\n  if (node.type === 1) {\n    //元素节点\n    return generate(node)\n  } else {\n    //文本\n    let text = node.text;\n    const tokens = [];\n    while (text.trim()) {\n      //文本的结束位置\n      const textEndIndex = text.indexOf(\"{{\")\n\n      if (textEndIndex === -1) {\n        return `_v(\"${text}\")`\n      }\n\n      if (textEndIndex === 0) {\n        //表达式的结束位置\n        const execEndIndex = text.indexOf(\"}}\")\n        tokens.push(`_s(${text.slice(textEndIndex + 2, execEndIndex)})`)\n        text = text.slice(execEndIndex + 2)\n      } else {\n        tokens.push(JSON.stringify(text.slice(0, textEndIndex)))\n        text = text.slice(textEndIndex)\n      }\n    }\n    return `_v(${tokens.join(\"+\")})`\n  }\n}\n\n\n\nfunction genChildren(el) {\n  const children = el.children;\n  if (children && children.length > 0) {\n    return `${children.map(c => gen(c)).join(',')}`\n  } else {\n    return false\n  }\n}\n\n\n\nexport function generate(el) {\n  const children = genChildren(el);\n  const directiveStr = JSON.stringify(el.directive)\n  const directive = directiveStr.slice(1, directiveStr.length - 1)\n  let attrs = el.attrs.slice(0, el.attrs.length - 1)\n  if (attrs.length === 1) {\n    attrs = attrs + directive + \"}\"\n  } else {\n    attrs = attrs + ',' + directive + \"}\"\n  }\n  let code = `_c(\"${el.tag}\",${attrs}${children ? `,${children}` : ''})`\n  return code\n}\n","export function isUnaryTag(tagName) {\n  const unaryTag = ['input', 'br'];\n  return unaryTag.includes(tagName)\n}\n","\nimport { isUnaryTag } from \"../utils/isUnaryTag\";\n\n\n//<input v-model:xx=\"xxx\" type=\"xx\" />\nfunction parserVModel(modelExp, typeExp, tag) {\n  const type = typeExp?.split(\"=\")[1].replace(/\"/g, \"\") || 'text'\n  let [_, modelValue] = modelExp.split(\"=\")\n  modelValue = modelValue.replace(/\"/g, \"\")\n  let vModel = {}\n  if (tag === 'input') {\n    //input输入框 或者checkbox\n    if (type === 'text') {\n      //文本输入框\n      vModel = { tag, type: 'text', value: modelValue }\n    } else if (type === 'checkbox') {\n      //checkbox\n      vModel = { tag, type: 'checkbox', value: modelValue }\n    }\n  } else if (tag === 'textarea') {\n    vModel = { tag, value: modelValue }\n\n  } else if (tag === 'select') {\n    vModel = { tag, value: modelValue }\n  }\n\n  return vModel\n}\n\n\n//v-bind:xx=\"xxx\"\nfunction parserVBind(bindingExp) {\n  bindingExp = bindingExp.split(\":\")[1];\n  const [bindingKey, bindingValue] = bindingExp.split(\"=\");\n\n  return {\n    [bindingKey]: bindingValue.replace(/\"/g, \"\")\n  }\n\n}\n\n//v-on:click=\"xx\"\nfunction parserVOn(onExp) {\n  onExp = onExp.split(\":\")[1];\n  const [event, callback] = onExp.split(\"=\");\n\n  return {\n    [event]: callback.replace(/\"/g, \"\")\n  }\n}\n\nexport function parserHTML(html) {\n\n  let root = null;\n  const stack = [];\n\n  //将解析后的结果组合成ast树 -> stack\n  function createAstElement(tagName, attrs, directive) {\n    return {\n      tag: tagName,\n      type: 1,\n      children: [],\n      parent: null,\n      attrs,\n      directive\n    }\n  }\n\n\n  function start(tagName, attributes, directive) {\n    const parent = stack[stack.length - 1]\n    const element = createAstElement(tagName, attributes, directive)\n    //设置根节点\n    if (!root) {\n      root = element\n    }\n    //放入栈中时 记录自己的父节点\n    element.parent = parent\n    //为这个父节点添加子节点为当前节点\n    if (parent) {\n      parent.children.push(element)\n    }\n    stack.push(element)\n  }\n\n  function end(tagName) {\n    let last = stack.pop();\n    if (last.tag !== tagName) {\n      //闭合标签有误\n      throw new Error('标签有误')\n    }\n  }\n\n  function chars(text) {\n    text = text.replace(/\\s/g, \" \");\n    let parent = stack[stack.length - 1]\n    if (text.trim()) {\n      parent.children.push({\n        type: 3,\n        text\n      })\n    }\n  }\n\n  function advance(len) {\n    html = html.slice(len)\n  }\n\n  //解析节点属性生成节点属性的字符串\n  function parserAttrs(attrs) {\n    attrs = attrs.filter(a => a)\n    let attrStr = \"\";\n    for (let i = 0; i < attrs.length; i++) {\n      const attr = attrs[i];\n      let [attrName, attrValue] = attr.split('=')\n      attrValue = attrValue.replace(/\"/g, '')\n      if (attrName === 'style') {\n        let obj = {};\n        attrValue.split(';').forEach(item => {\n          let [key, value] = item.split(':')\n          if (key) obj[key] = value.replace(/\\s+/g, \"\");\n        })\n        attrValue = obj\n      }\n      attrStr += `${attrName}:${JSON.stringify(attrValue)},`\n    }\n\n    return `{${attrStr.slice(0, -1)}}`\n  }\n\n  function parserStartTag(html) {\n    //不是开始标签\n    if (html.indexOf('</') === 0) return false\n    const end = html.indexOf('>');\n    //拿到标签内容\n    const content = html.slice(1, end)\n    advance(end + 1)\n    //拿到第一个空格的位置\n    const firstSpaceIdx = content.indexOf(' ')\n    let tagName = '', attrStr = ''\n    if (firstSpaceIdx === -1) {\n      //没有找到空格，则将content作为标签\n      tagName = content\n    } else {\n      //找到了空格则到第一个空格之前的是标签名\n      tagName = content.slice(0, firstSpaceIdx)\n      attrStr = content.slice(firstSpaceIdx + 1)\n    }\n\n    //处理style\n    const styleStartIdx = attrStr.indexOf('style')\n    let styleStr;\n    if (styleStartIdx !== -1) {\n      //style开始到结尾的字符串\n      styleStr = attrStr.slice(styleStartIdx, attrStr.length)\n      const styleEndIndex = styleStr.lastIndexOf('\"')\n      if (styleEndIndex !== -1) {\n        styleStr = styleStr.slice(0, styleEndIndex)\n        attrStr = attrStr.split(styleStr + '\"').join(\"\")\n      }\n    }\n\n    const attrArr = attrStr ? attrStr.trim().split(' ') : [];\n    const directive = {}\n    //处理v-model指令\n    let vModel = attrArr.findIndex(attr => attr.indexOf('v-model') !== -1)\n    if (vModel !== -1) {\n      //找下这个节点的type\n      const type = attrArr.findIndex(attr => attr.indexOf('type') !== -1)\n      directive.vModel = parserVModel(attrArr[vModel], attrArr[type], tagName)\n      attrArr.splice(vModel, 1)\n    }\n    //处理v-on指令\n    let vOn = attrArr.findIndex(attr => attr.indexOf('v-on') !== -1)\n    if (vOn !== -1) {\n      directive.vOn = parserVOn(attrArr[vOn])\n      attrArr.splice(vOn, 1)\n    }\n\n    //处理v-bind指令\n    let vBind = attrArr.findIndex(attr => attr.indexOf('v-bind') !== -1)\n    if (vBind !== -1) {\n      directive.vBind = parserVBind(attrArr[vBind])\n      attrArr.splice(vBind, 1)\n    }\n\n\n    //解析成一个属性字符串\n    const attrs = parserAttrs([...attrArr, styleStr])\n    return {\n      tagName,\n      directive,\n      attrs\n    }\n  }\n\n  function parserEndTag(html) {\n    const end = html.indexOf('>')\n    const tagStart = html.indexOf('/');\n    const tagEnd = html.indexOf('>');\n    const tagName = html.slice(tagStart + 1, tagEnd);\n    advance(end + 1)\n    return {\n      tagName\n    }\n  }\n\n  //解析的内容如果存在一直解析\n  while (html) {\n    let textEnd = html.indexOf('<');\n    //解析到开头\n    if (textEnd === 0) {\n      //解析开始标签\n      const startTagMatch = parserStartTag(html);\n      if (startTagMatch) {\n        start(startTagMatch.tagName, startTagMatch.attrs, startTagMatch.directive)\n\n        if (isUnaryTag(startTagMatch.tagName)) {\n          //自闭合标签 直接出栈\n          end(startTagMatch.tagName)\n        }\n        continue;\n      }\n\n      const endTagMatch = parserEndTag(html);\n      if (endTagMatch) {\n        end(endTagMatch.tagName);\n        continue;\n      }\n    }\n\n    //文本的处理\n    let text;\n    if (textEnd > 0) {\n      text = html.slice(0, textEnd);\n    }\n\n    if (text) {\n      chars(text)\n      advance(text.length)\n    }\n  }\n\n  return root\n}\n","\nimport { generate } from \"./generate\";\nimport { parserHTML } from \"./parserHTML\";\n\nexport function compileToFunction(template) {\n  //解析字符串 将html转换成ast语法树\n  const root = parserHTML(template);\n  //将ats语法树转换成js语法\n  //<div id=\"app\"></div> -> _c(\"div\",{id:app},\"\")\n  let code = generate(root);\n  //所有的模板引擎实现都需要new Function + with\n  let renderFn = new Function(`with(this){return ${code}}`)\n\n  return renderFn\n}\n","let id = 0\nexport class Dep {\n  constructor(){\n    this.id = id ++\n    this.subs = []\n  }\n  //依赖收集\n  depend(){\n    //观察者模式\n  \n    //让watcher记住当前dep\n    Dep.target.addDep(this)\n    this.subs.push(Dep.target)\n  }\n\n  addSub(watcher){\n    this.subs.push(watcher)\n  }\n\n  //依赖更新\n  notify(){\n    this.subs.forEach(watcher => {\n      watcher.update()\n    })\n  }\n}\n\n//静态属性\nDep.target\n\nlet stack = [];\n\n//将watcher保留 和移除\nexport function pushTarget(watcher){\n  Dep.target = watcher\n  stack.push(watcher)\n}\n\nexport function popTarget(){\n  stack.pop();\n  Dep.target = stack[stack.length - 1]\n}\n","//判断是否为一个对象\nexport function isObject(value) {\n  return typeof value === 'object' && value !== null\n}\n\n\nexport function def(data, key, value) {\n  Object.defineProperty(data, key, {\n    enumerable: false,\n    configurable: false,\n    value\n  })\n}\n\n//_data的值代理到实例上\nexport function proxy(vm,source,key){\n  Object.defineProperty(vm,key,{\n    get(){\n      return vm[source][key]\n    },\n    set(newValue){\n      vm[source][key] = newValue\n    }\n  })\n}\n\n","const oldArrayMethods = Array.prototype;\nexport const arrayMetods = Object.create(oldArrayMethods);\n\n\nconst methods = [\n  'push',\n  'shift',\n  'unshift',\n  'pop',\n  'splice',\n  'reverse'\n]\n\nmethods.forEach(method => {\n  arrayMetods[method] = function (...args) {\n    //调用原生的数组方法\n    const result = oldArrayMethods[method].apply(this, args)\n    let inserted;\n    let ob = this.__ob__;\n\n    switch (method) {\n      case 'push':\n      case 'unshift':\n        inserted = args;\n        break;\n      case 'splice':\n        inserted = args.slice(2)\n        break;\n      default:\n        break;\n    }\n\n    if (inserted) {\n      ob.observerArray(inserted)\n    }\n    \n    //数组的依赖更新\n    ob.dep.notify()\n    return result\n  }\n})\n","\nimport { def, isObject } from \"../utils/index\";\nimport { arrayMetods } from \"./array\"\nimport { Dep } from './dep'\n\n\n//将数组中每一部分都取出来数据变化也去更新视图\nfunction dependArray(value) {\n  for (let i = 0; i < value.length; i++) {\n    const current = value[i];\n    current.__ob__ && current.__ob__.dep.depend()\n\n    if (Array.isArray(current)) {\n      dependArray(current)\n    }\n  }\n}\n\nfunction defineReactive(target, key, value) {\n  let dep = new Dep()\n\n  //这里返回的是一个observer的实例当前这value对应的observer\n  const childOb = observe(value);\n  return Object.defineProperty(target, key, {\n    get() {\n      //每个属性都对应着自己的watcher\n      if (Dep.target) {\n        //如果当前有watcher\n        dep.depend()\n        if (childOb) {\n          //收集了数组的相关依赖\n          childOb.dep.depend()\n\n          //如果数组中还有数组也去收集依赖\n          if (Array.isArray(value)) {\n            dependArray(value)\n          }\n        }\n      }\n      return value\n    },\n    set(newValue) {\n      if (value === newValue) return\n      observe(newValue)\n      value = newValue\n      dep.notify();//通知依赖的watcher进行更新操作\n    }\n  })\n}\n\nclass Observer {\n  constructor(value) {\n    //数组的依赖\n    this.dep = new Dep()\n    //缺点:vue2中如果层次过多，那么需要递归的解析对象属性\n    def(value, '__ob__', this);\n    if (Array.isArray(value)) {\n      //如果数组下放对象则劫持\n      value.__proto__ = arrayMetods\n      this.observerArray(value);\n    } else {\n      this.walk(value);\n    }\n  }\n\n  walk(data) {\n    Object.keys(data).forEach(key => {\n      const value = data[key]\n      defineReactive(data, key, value)\n    })\n  }\n\n  observerArray(value) {\n    value.forEach(v => {\n      observe(v)\n    })\n  }\n}\n\nexport function observe(data) {\n  if (!isObject(data)) {\n    return\n  }\n\n  //观测数据\n  return new Observer(data)\n}\n","let callbacks = []\n\nlet waiting = false;\nfunction flushCallback() {\n  callbacks.forEach(cb => cb())\n  waiting = false\n  callbacks = []\n}\n\n// 多次调用nextTick 如果没有刷新的时候就先放到数组中\n// 刷新后更改waiting\nexport function nextTick(cb) {\n  callbacks.push(cb)\n  if (waiting === false) {\n    setTimeout(flushCallback, 0)\n    waiting = true\n  }\n}\n","let queue = [];\nlet has = {};\nimport { nextTick } from \"./utils/nextTick\";\n\nfunction flushSchedularQueue(){\n  queue.forEach(watcher => watcher.run())\n  queue = [] //下一次可以继续执行\n  has = {}\n}\n\nexport function queueWatcher(watcher) {\n  const id = watcher.id;\n  if (has[id] == null) {\n    queue.push(watcher)\n    has[id] = true\n\n\n    //宏任务和微任务向下兼容\n    //Vue.nextTick = promise.then -> mutationObserver -> setImmediate -> setTimeout\n    nextTick(flushSchedularQueue)\n  }\n}\n","import { popTarget, pushTarget } from \"./dep\";\n\nimport { queueWatcher } from \"./../schedular\";\n\n\n\nlet id = 0\nclass Watcher {\n  constructor(vm, expOrFn, callback, options) {\n    this.vm = vm;\n    this.callback = callback;\n    //看看是不是用户watcher\n    this.user = !!options.user\n    //看看是不是懒执行 计算属性watcher\n    this.lazy = !!options.lazy\n    //标记计算属性watcher的值是不是脏值\n    this.dirty = !!options.lazy\n    this.options = options\n    //watcher 对应的dep id的集合\n    this.depsId = new Set()\n    //watcher的id 用来去重\n    this.id = id++\n    //watcher对应的dep依赖\n    this.deps = []\n\n    //传入的回调函数放到getter属性上(expOrFn有可能是字符串:用户watcher)\n    if (typeof expOrFn === 'string') {\n      //将表达式转换成函数 数据取值时进行依赖收集\n      this.getter = function () {\n        let path = expOrFn.split('.')\n        let obj = vm;\n        //有可能是是xx.xx这种多层嵌套的\n        return path.reduce((prev, next) => prev[next], obj)\n      }\n    } else {\n      this.getter = expOrFn;\n    }\n\n    //懒执行初始化的时候就不执行\n    this.value = this.lazy ? undefined : this.get() //默认初始化要取值\n  }\n  get() {\n    pushTarget(this)//把watcher存起来\n    //新的值\n    const value = this.getter.call(this.vm)\n    popTarget() //移除watcher\n    return value\n  }\n  addDep(dep) {\n    //watcher里不能放重复的dep\n    //dep也不能放重复的watcher\n    let id = dep.id\n    if (!this.depsId.has(id)) {\n      this.depsId.add(id)\n      this.deps.push(dep)\n\n      dep.addSub(this)\n    }\n  }\n  update() {\n    //等待一起更新 因为每次调用update的时候都放入了watcher\n    // this.get()\n    if (this.lazy) {\n      this.dirty = true\n    } else {\n      queueWatcher(this)\n    }\n  }\n\n  run() {\n    let newValue = this.get()\n    let oldValue = this.value\n    //保证上一次的新值是下一次的旧值\n    this.value = newValue\n    if (this.user) {\n      this.callback.call(this.vm, newValue, oldValue)\n    }\n  }\n\n  //计算的getter执行\n  evaluate() {\n    //设置dirty标记为非脏值 计算属性的缓存就是这样实现的\n    this.dirty = false\n    this.value = this.get()\n  }\n\n\n  //这里主要是computed对应的依赖只收集了计算属性watcher 但是这些依赖也应该收集渲染watcher\n  depend(){\n    let i = this.deps.length;\n    while(i--){\n      this.deps[i].depend()\n    }\n  }\n}\n\nexport default Watcher\n","\nimport { Dep } from \"./observer/dep\";\nimport { observe } from \"./observer/index\";\nimport Watcher from \"./observer/watcher\";\nimport { proxy } from \"./utils/index\";\n\nexport function stateMixin(Vue) {\n  //这里会初始化用户watcher options就是immediate deep这些配置项\n  Vue.prototype.$watch = function (key, handler, options = {}) {\n    options.user = true //告诉watcher是用户watcher 和渲染watcher区分开\n    new Watcher(this, key, handler, options)\n  }\n}\n\nexport function initState(vm) {\n  const opts = vm.$options;\n  if (opts.props) {\n    initProps(vm)\n  }\n  if (opts.methods) {\n    initMethods(vm)\n  }\n  if (opts.data) {\n    initData(vm)\n  }\n  if (opts.computed) {\n    initComputed(vm)\n  }\n  if (opts.watch) {\n    initWatch(vm)\n  }\n}\n\n/**\n * todo \n*/\n// function initProps(vm) { }\n\nfunction initMethods(vm) {\n  const { methods } = vm.$options;\n  vm._methods = methods\n\n  for (let key in methods) {\n    proxy(vm, \"_methods\", key)\n  }\n}\n\n//初始化data\nfunction initData(vm) {\n  //数据初始化\n  let data = vm.$options.data;\n  data = vm._data = typeof data === 'function' ? data.call(vm) : data;\n  //对象劫持\n  //MVVM 数据驱动视图\n\n  for (let key in data) {\n    proxy(vm, \"_data\", key)\n  }\n\n  observe(data);\n}\n\n//初始化计算属性\nfunction initComputed(vm) {\n  const watchers = vm._computedWatchers =  {};\n  const { computed } = vm.$options;\n  for (let key in computed) {\n    const userDef = computed[key];\n    let getter = typeof userDef === 'function' ? userDef : userDef.get\n\n    //每个计算属性 本质就是watcher\n    //lazy:true 表示懒执行\n\n    //将watcher和属性做映射\n    watchers[key] = new Watcher(vm, getter, () => { }, { lazy: true })\n\n    vm._computedWatcher = watchers\n    //将key定义在vm上\n    defineComputed(vm, key, userDef)\n  }\n}\n\n//初始化watch\nfunction initWatch(vm) {\n  const { watch } = vm.$options\n  for (let key in watch) {\n    const handler = watch[key]\n\n    if (Array.isArray(handler)) {\n      //数组的情况\n      for (let i = 0; i < handler.length; i++) {\n        createWatcher(vm, key, handler[i])\n      }\n    } else {\n      createWatcher(vm, key, handler)\n    }\n  }\n}\n\n//创建用户watcher\nfunction createWatcher(vm, key, handler) {\n  return vm.$watch(key, handler)\n}\n\n\nfunction createComputedGetter(key){\n  //取计算属性的watcher走这个get\n  return function computedGetter(){\n    //拿出这个key对应的watcher 这个watcher中包含get\n    let watcher = this._computedWatchers[key]\n\n    //根据dirty属性判断这个计算属性需不需要重新执行\n    if(watcher.dirty){\n      watcher.evaluate()\n    }\n\n    //如果当前取完值后Dep.target还有值 需要向上收集 这个watcher就是渲染watcher\n    if(Dep.target){\n      //watcher对应的dep -> firstName lastName 收集他们的渲染watcher(对应computed.html的示例)\n      watcher.depend() // watcher对应多个dep\n    }\n    return watcher.value\n  }\n}\n\nfunction defineComputed(vm, key, userDef) {\n  let sharedProperty = {}\n  if (typeof userDef === 'function') {\n    sharedProperty.get = createComputedGetter(key)\n  } else {\n    sharedProperty.get = createComputedGetter(key)\n    sharedProperty.set = userDef.set\n  }\n  Object.defineProperty(vm, key, sharedProperty)\n}\n","\n/**\n * 老节点和新节点做比对diff\n*/\nexport function patch(oldVnode, vnode) {\n  if (!oldVnode) {\n    //组件的挂载\n    console.log('组件的首次挂载')\n    return createElm(vnode)\n  } else {\n    //判断更新还是渲染\n    const isRealElement = oldVnode.nodeType;\n    if (isRealElement) {\n      console.log('当前旧节点是真实节点,进入首次渲染')\n      //初次渲染\n      const oldElm = oldVnode;\n      const parentElm = oldElm.parentNode // body\n      let el = createElm(vnode)\n      //挂载\n      parentElm.insertBefore(el, oldElm.nextSibling)\n      //删除旧的节点\n      parentElm.removeChild(oldElm)\n\n      return el\n    } else {\n      //比对两个虚拟节点 进行diff\n      if (oldVnode.tag !== vnode.tag) {\n        //标签不一致 直接替换\n        oldVnode.el.parentNode.replaceChild(createElm(vnode), oldVnode.el)\n      }\n\n      if (!oldVnode.tag) {\n        //文本节点\n        if (oldVnode.text !== vnode.text) {\n          oldVnode.el.textContent = vnode.text\n        }\n      }\n\n      //走到这里说明标签一致并且不是文本节点(比对属性是否一致)\n      let el = vnode.el = oldVnode.el;\n      updatePropertys(vnode, oldVnode.data)\n\n      //比对子节点\n      let oldChildren = oldVnode.children || [];\n      let newChildren = vnode.children || []\n\n      if (oldChildren.length > 0 && newChildren.length > 0) {\n        //新旧节点都有子节点\n        //比对他们的子节点\n        updateChildren(el, oldChildren, newChildren)\n      } else if (newChildren.length > 0) {\n        //新节点有子节点 旧节点没有\n        //直接将子节点转换成真实节点插入\n        for (let i = 0; i < newChildren.length; i++) {\n          let child = newChildren[i]\n          el.appendChild(createElm(child))\n        }\n      } else if (oldChildren.length > 0) {\n        //旧节点有子节点 新节点没有子节点 \n        //删除节点\n        for (let i = 0; i < oldChildren.length; i++) {\n          el.innerHTML = \"\"\n        }\n      }\n    }\n  }\n}\n\n//比较两个节点 只比较tag和key 都一致就认为他们是同一个节点\nfunction isSameVnode(oldVnode, newVnode) {\n  return (oldVnode.tag === newVnode.tag) && (oldVnode.key === newVnode.key)\n}\n\nfunction updateChildren(parent, oldChildren, newChildren) {\n  //双指针\n  let oldStartIndex = 0;\n  let oldStartVnode = oldChildren[oldStartIndex]\n  let oldEndIndex = oldChildren.length - 1;\n  let oldEndVnode = oldChildren[oldEndIndex]\n\n  let newStartIndex = 0;\n  let newStartVnode = newChildren[newStartIndex]\n  let newEndIndex = newChildren.length - 1;\n  let newEndVnode = newChildren[newEndIndex]\n  const makeIndexByKey = (children) => {\n    let map = {};\n    children.forEach((item, index) => {\n      if (item.key) {\n        //根据key创建一个映射表\n        map[item.key] = index\n      }\n    })\n    return map\n  }\n  let map = makeIndexByKey(oldChildren)\n  //在比对的过程中 新旧虚拟节点有一方指针重合就结束\n  while (oldStartIndex <= oldEndIndex && newStartIndex <= newEndIndex) {\n    if (!oldStartVnode) { //旧指针移动过程中可能碰到undefined 遇到就直接跳过\n      oldStartVnode = oldChildren[++oldStartIndex]\n    } else if (!oldEndVnode) {\n      oldEndVnode = oldChildren[--oldEndIndex]\n    } else if (isSameVnode(oldStartVnode, newStartVnode)) {\n      //命中一:新前新后一致 优化向后插入的情况\n      //是同一个节点就比对这两个属性\n      patch(oldStartVnode, newStartVnode)\n      oldStartVnode = oldChildren[++oldStartIndex]\n      newStartVnode = newChildren[++newStartIndex]\n    } else if (isSameVnode(oldEndVnode, newEndVnode)) {\n      //命中二:新后与旧后一直，优化向前插入的情况\n      patch(oldEndVnode, newEndVnode)\n      oldEndVnode = oldChildren[--oldEndIndex]\n      newEndVnode = newChildren[--newEndIndex]\n    } else if (isSameVnode(oldStartVnode, newEndVnode)) {\n      //命中三:新后与旧前 优化头部移动到尾部 倒序变正序\n      patch(oldStartVnode, newEndVnode)\n      parent.insertBefore(oldStartVnode.el, oldEndVnode.el.nextSibling)\n      oldStartVnode = oldChildren[++oldStartIndex]\n      newEndVnode = newChildren[--newEndIndex]\n    } else if (isSameVnode(oldEndVnode, newStartVnode)) {\n      //命中四:新前与旧后 优化尾部移动到头部 正序变倒序\n      patch(oldEndVnode, newStartVnode)\n      parent.insertBefore(oldEndVnode.el, oldStartVnode.el);\n      oldEndVnode = oldChildren[--oldEndIndex]\n      newStartVnode = newChildren[++newStartIndex]\n    } else {\n      //以上情况都没有命中 乱序\n      //先根据老节点的key做一个映射表 拿新的虚拟节点去映射表中查找 则进行移动操作，\n      //如果找不到则直接将元素插入\n      let moveIndex = map[newStartIndex.key];\n      if (!moveIndex) {\n        //没有找到不需要复用\n        //创建节点插入\n        parent.insertBefore(createElm(newStartVnode), oldStartVnode.el)\n      } else {\n        //如果在映射表中找到了 需要把这个元素移走 并且当前位置置空\n        let moveVnode = oldChildren[moveIndex]\n        oldChildren[moveIndex] = undefined\n        parent.insertBefore(moveVnode.el, oldStartVnode.el)\n        patch(moveVnode, oldStartVnode)\n      }\n\n      newStartVnode = newChildren[++newStartIndex]\n    }\n  }\n\n  if (newStartIndex <= newEndIndex) {\n    for (let i = newStartIndex; i <= newEndIndex; i++) {\n      //将新增的元素直接插入(可能是向后插入 也有可能从头插入)\n      /**\n       * 如果是向后添加了元素 那么newEndIndex + 1 一定是null\n       * 如果是向前添加了元素 那么newEndIndex - 1 可以作为flag插入到他的前边即可\n      */\n      let flag = newChildren[newEndIndex + 1] == null ? null : newChildren[newEndIndex + 1].el;\n      parent.insertBefore(createElm(newChildren[i]), flag)\n    }\n  }\n\n  if (oldStartIndex <= oldEndIndex) {\n    for (let i = oldStartIndex; i <= oldEndIndex; i++) {\n      parent.removeChild(oldChildren[i].el)\n    }\n  }\n}\n\n\n//更新属性\nfunction updatePropertys(vnode, oldProps) {\n  const newProps = vnode.data || {};\n  //对比style\n  let newStyle = newProps.style || {};\n  let oldStyle = oldProps && oldProps.style || {};\n  for (let key in oldStyle) {\n    if (!newStyle[key]) {\n      newStyle[key] = ''\n    }\n  }\n  //比对新旧节点的属性\n  for (let key in oldProps) {\n    if (!newProps[key]) {\n      //旧节点有新节点没有 在真实节点中将这个属性删除\n      vnode.el.removeAttribute(key)\n    }\n  }\n\n\n  const el = vnode.el;\n  for (let key in newProps) {\n    if (key === 'style') {\n      for (let styleName in newProps.style) {\n        el.style[styleName] = newProps.style[styleName]\n      }\n    } else if (key === 'class') {\n      el.className = newProps.class\n    } else if (key === 'vModel') {\n      setVModel(el.tagName.toLowerCase(), newProps['vModel'].value, vnode)\n    } else if (key === 'vOn') {\n      setVOn(vnode)\n    } else if (key === 'vBind') {\n      setVBind(vnode)\n    } else {\n      el.setAttribute(key, newProps[key])\n    }\n  }\n}\n\n\n//创建组件的真实节点\nfunction createComponent(vnode) { //初始化组件\n  //创建组件的实例\n  let i = vnode.data\n  if ((i = i.hooks) && (i = i.init)) {\n    i(vnode)\n  }\n\n  if (vnode.componentInstance) {\n    return true\n  }\n}\n\n\n//根据虚拟节点创建真实的节点\nexport function createElm(vnode) {\n  const { tag, children, text } = vnode\n  //区分标签和文本\n  if (typeof tag === 'string') {\n\n    //tag为字符串的情况也有可能是组件标签\n\n    //实例化组件\n    if (createComponent(vnode)) {\n      return vnode.componentInstance.$el\n    }\n\n    vnode.el = document.createElement(tag);\n    updatePropertys(vnode)\n    children.forEach(child => {\n      //递归创建儿子节点，将儿子节点放入父节点中\n      return vnode.el.appendChild(createElm(child))\n    })\n  } else {\n    //虚拟dom上映射着真实dom方便获取更新操作\n    vnode.el = document.createTextNode(text)\n  }\n\n  return vnode.el\n}\n\n//设置双向绑定属性v-model\nfunction setVModel(tag, value, vnode) {\n  const { context, el } = vnode;\n  if (tag === 'select') {\n    //初始化异步处理一下  需要等待option选项\n    context.$nextTick(() => {\n      el.value = context[value]\n    })\n\n    el.addEventListener('change', function () {\n      context[value] = el.value\n    })\n  } else if (tag === 'input' && el.type === 'text') {\n    //文本输入框\n    el.value = context[value]\n    el.addEventListener('input', function () {\n      context[value] = el.value\n    })\n  } else if (tag === 'input' && el.type === 'checkbox') {\n    el.checked = context[value]\n    el.addEventListener('change', function () {\n      context[value] = el.checked\n    })\n  }\n}\n\n//设置v-bind指令\nfunction setVBind(vnode) {\n  const { data, context, el } = vnode\n  for (let key in data.vBind) {\n    el.setAttribute(key, context[data.vBind[key]])\n  }\n}\n\n//设置v-on\nfunction setVOn(vnode) {\n  const { data, el, context } = vnode;\n  for (let eventName in data.vOn) {\n    el['on' + eventName] = function (...args) {\n      context[data.vOn[eventName]].apply(context, args)\n    }\n\n  }\n}\n","\nimport Watcher from \"./observer/watcher\";\nimport { patch } from \"./vdom/patch\";\n\nexport function lifecycleMixin(Vue) {\n  Vue.prototype._update = function (vnode) {\n    const vm = this;\n    //虚拟节点对应的内容\n    //第一次不需要diff\n    const prevVNode = vm._vnode\n    vm._vnode = vnode\n    if (!prevVNode) {\n      vm.$el = patch(vm.$el, vnode)\n    } else {\n      vm.$el = patch(prevVNode, vnode)\n    }\n  }\n}\n\nexport function mountComponent(vm, el) {\n  vm.$el = el //真实的dom元素\n\n  callHook(vm, \"beforeMount\")\n  //渲染还是更新都会调用这个方法\n  let updateComponent = () => {\n    //返回虚拟dom\n    vm._update(vm._render())\n  }\n\n  //每个组件一定有一个渲染watcher\n  //渲染watcher\n  //true表示是一个渲染watcher\n  new Watcher(vm, updateComponent, () => { }, true)\n  callHook(vm, \"mounted\")\n}\n\n\nexport function callHook(vm, hook) {\n  const handlers = vm.$options[hook]\n  if (!handlers) return\n  //找到对应的钩子调用\n  for (let i = 0; i < handlers.length; i++) {\n    handlers[i].call(vm)\n  }\n}\n","const strats = {}\n\n//生命周期的合并策略\nconst LIFECYCLE_HOOKS = [\n  'beforeCreate',\n  'created',\n  'beforeMount',\n  'mounted',\n  'beforeUpdate',\n  'updated',\n  'beforeDistory',\n  'distoryed'\n]\n\n\nLIFECYCLE_HOOKS.forEach(hook => {\n  strats[hook] = mergeHook\n})\n\nfunction mergeHook(parentVal,childVal){\n  if(childVal){\n    if(parentVal){\n      //父子选项都存在\n      //返回一个数组 子选项在前:先执行子选项\n      return parentVal.concat(childVal)\n    }else{\n      //父选项不存在 返回子选项\n      return [childVal]\n    }\n  }else{\n    //如果子选项不存在 直接返回父选项\n    return parentVal\n  }\n}\n\n\n//组件的合并策略\nstrats.components = mergeAssets\nfunction mergeAssets(parentVal,childVal){\n  //基于父类创建出一个原型 res.__proto__\n  //这样合并完成后子组件就会先找自己的components在去沿着原型链找父类\n  const res = Object.create(parentVal);\n  if(childVal){\n    for(let key in childVal){\n      res[key] = childVal[key]\n    }\n  }\n\n  return res\n}\n\nexport function mergeOptions(parent,child){\n  const options = {};\n\n  for(let key in parent){\n    mergeField(key)\n  }\n\n  for(let key in child){\n    //如果已经合并过的就没有必要在合并了\n    if(!options.hasOwnProperty[key]){\n      mergeField(key)\n    }\n  }\n\n  //默认的合并策略 但是有些属性合并有特殊的方式比如:生命周期\n  function mergeField(key){\n    if(strats[key]){\n      //当前有符合合并策略的选项\n      return options[key] = strats[key](parent[key],child[key])\n    }\n    if(typeof parent[key]  === 'object' && typeof child[key] === 'object'){\n      //父子选项都是object\n      options[key] = {\n        ...parent[key],\n        ...child[key]\n      }\n    }else if(child[key] == null){\n      //子选项为null 以父选项为准   \n      options[key] = parent[key]\n    }else{\n      //父子都有该选项 且父子选项都不是object类型 以子选项为准\n      options[key] = child[key]\n    }\n  }\n\n  // if(options._isComponent){\n  //   console.log(options,child,parent)\n  // }\n  return options\n}\n","\nimport { compileToFunction } from \"./compiler/index\";\nimport { initState } from \"./state\";\n\nimport { callHook, mountComponent } from \"./lifecycle\"\nimport { mergeOptions } from \"./utils/merge\";\nimport { nextTick } from \"./utils/nextTick\";\n\n//在原型添加一个init方法\nexport function initMixin(Vue) {\n  //初始化流程\n  Vue.prototype._init = function (options) {\n\n    //数据劫持\n    const vm = this;\n    //将用户传递的和全局的做合并\n    vm.$options = mergeOptions(vm.constructor.options, options);\n    //这里调用里beforeCreate 这个阶段合并了选项 但是还没有执行initState 所有数据还没有被观察\n    callHook(vm, \"beforeCreate\")\n    //初始化状态\n    initState(vm);\n    //这里调用里created 已经初始化了状态 可以访问响应式数据 以及其它类似computed methods ..的选项也已经完成了初始化\n    callHook(vm, \"created\")\n\n    if (vm.$options.el) {\n      //数据挂载到模板 \n      vm.$mount(vm.$options.el);\n    }\n  }\n\n  Vue.prototype.$mount = function (el) {\n    const vm = this;\n    const options = vm.$options;\n    el = document.querySelector(el);\n    //模板转换成渲染函数\n    if (!options.render) {\n      //没有render找template\n      let template = options.template;\n      if (!template && el) {\n        //没有template 取el的内容作为模板\n        template = el.outerHTML\n      }\n      let render = compileToFunction(template);\n      options.render = render\n    }\n\n    mountComponent(vm, el);\n  }\n\n  //用户内部调用的nextTick\n  Vue.prototype.$nextTick = nextTick\n}\n","export function isReservedTag(tagName) {\n  const reservedTag = 'div,p,input,select,button,option,br,li';\n  const has = {};\n\n  reservedTag.split(\",\").forEach(tag => {\n    has[tag] = true\n  })\n\n  return has[tagName]\n}\n","import { isObject } from \"../utils/index\";\nimport { isReservedTag } from \"../utils/isReservedTag\";\n\nexport function createElement(vm, tag, data = {}, ...children) {\n  let key = data.key;\n  if (key) {\n    delete data.key\n  }\n\n  if (isReservedTag(tag)) { //html的原生标签\n    return vnode(tag, data, key, children, undefined, undefined, vm)\n  } else {\n    //找到组件的定义 -> 子组件的构造函数\n    const Ctor = vm.$options.components[tag]\n\n    return createComponent(vm, tag, data, key, children, Ctor)\n  }\n\n}\n\n//创建组件的虚拟节点\nfunction createComponent(vm, tag, data, key, children, Ctor) {\n  if (isObject(Ctor)) {\n    Ctor = vm.$options._base.extend(Ctor)\n  }\n\n  //组件钩子\n  data.hooks = {\n    init(vnode) {\n      let child = vnode.componentInstance = new Ctor({ _isComponent: true })\n      console.log(child)\n      child.$mount()\n    }\n  }\n\n  return vnode(`vue-component-${Ctor.cid}-${tag}`, data, key, undefined, {\n    Ctor,\n    children\n  })\n}\n\nexport function createTextNode(vm, text) {\n  return vnode(undefined, undefined, undefined, undefined, text)\n}\n\n\n//生成虚拟节点  虚拟节点 -> 用js描述dom元素\n\n// 将template转换成ast -> 生成render方法 -> 生成虚拟dom -> 生成真实dom\n\n//页面更新重新生成虚拟dom -> 更新dom\n\nfunction vnode(tag, data, key, children, text, componentOptions, context) {\n  return {\n    tag,\n    data,\n    key,\n    children,\n    text,\n    componentOptions,\n    context\n  }\n}\n","\nimport { createElement, createTextNode } from \"./vdom/createElement\"\n\nexport function renderMixin(Vue) {\n  // _c是创建元素的虚拟节点\n  // _v创建文本的虚拟节点\n  // _sJSON.stringify()\n  Vue.prototype._c = function () {\n    // tag data children\n    return createElement(this,...arguments)\n  }\n\n  Vue.prototype._v = function (text) {\n    return createTextNode(this,text)\n  }\n\n  Vue.prototype._s = function (value) {\n    return value === null ? '' : (typeof value === 'object' ? JSON.stringify(value) : value)\n  }\n\n  Vue.prototype._render = function () {\n    const vm = this;\n    const { render } = vm.$options\n    //实例上取值\n    const vnode = render.call(vm)\n\n    return vnode\n  }\n}\n","export const ASSETS_TYPE = [\n  'component',\n  'filter',\n  'directive',\n  'mixin'\n]\n","import { ASSETS_TYPE } from \"./const\";\n\nexport function initAssetsRegister(Vue) {\n  ASSETS_TYPE.forEach(type => {\n    Vue[type] = function (id, definition) {\n      switch (type) {\n        case 'component':\n          //使用extned方法 将对象变成构造函数\n          //子类(子组件也有可能有component方法)\n          definition = this.options._base.extend(definition)\n          break;\n        case 'filter':\n          break\n        case 'mixin':\n          break\n        case 'directive':\n          break\n      }\n\n      this.options[type + 's'][id] = definition\n\n    }\n  })\n}\n","import { mergeOptions } from \"../utils/merge\";\n\nexport function initExtend(Vue) {\n\n  //子类和父类 对应子组件和父组件\n  //创建子类继承于父类扩展展的时候都扩展到自己的属性上\n  let cid = 0;\n  Vue.extend = function (opts) { // 产生一个基于vue的子类\n    // 并且身上应该有父类的所有功能 \n    const Super = this\n    const Sub = function VueComponent(options) {\n      this._init(options);\n    }\n    \n    // 原型继承\n    Sub.prototype = Object.create(Super.prototype);\n    Sub.prototype.constructor = Sub;\n    Sub.options = mergeOptions(Super.options, opts);\n    Sub.cid = cid++\n    return Sub;\n  }\n}\n","export function initMixin(Vue){\n  Vue.mixin = function(mixin){\n    this.options = mergeOptions(this.options,mixin)\n  }\n}\n","import { initAssetsRegister } from './assets'\nimport { ASSETS_TYPE } from './const'\nimport { initExtend } from './initExtend'\nimport { initMixin } from './mixin'\nexport function initGolbalAPI(Vue){\n  //整合了全局相关的内容\n  Vue.options = {}\n  initMixin(Vue)\n\n  //初始化全局过滤器指令都放在options上\n  ASSETS_TYPE.forEach(type => {\n    Vue.options[type + 's'] = {}\n  })\n\n  //_base是Vue的构造函数\n  Vue.options._base = Vue\n  //注册extend方法\n  initAssetsRegister(Vue)\n  initExtend(Vue)\n}\n","import { initMixin } from \"./init\";\nimport { renderMixin } from \"./render\";\nimport { lifecycleMixin } from './lifecycle'\nimport { initGolbalAPI } from \"./globalAPI/index\";\nimport { stateMixin } from \"./state\";\n\n//核心\nfunction Vue(options) {\n  //进行初始化\n  this._init(options)\n\n}\n\ninitMixin(Vue)\nrenderMixin(Vue)\nlifecycleMixin(Vue)\ninitGolbalAPI(Vue)\nstateMixin(Vue)\n\n\n// import { compileToFunction } from \"./compiler/index\";\n// import { createElm, patch } from \"./vdom/patch\";\n// let vm1 = new Vue({\n//   data: {\n//     name: 'hello'\n//   }\n// })\n\n// let render = compileToFunction(`<div id=\"app\" a=\"1\">\n//   <div style=\"background:red\" key=\"A\">A</div>\n//   <div style=\"background:yellow\" key=\"B\">B</div>\n//   <div style=\"background:blue\" key=\"C\">C</div>\n// </div>`)\n// let vnode = render.call(vm1)\n// let el = createElm(vnode)\n// document.body.appendChild(el)\n\n// // < div style = \"background:pink\" key = \"Q\" > Q</div >\n// //  <div  style=\"background:red\"  key=\"A\">A</div>\n// //  <div style=\"background:yellow\" key=\"F\">F</div>\n// //  <div style=\"background:blue\" key=\"C\">C</div>\n// //  <div style=\"background:skyblue\" key=\"N\">N</div>\n\n// let vm2 = new Vue({\n//   data: {\n//     name: 'lxh',\n//     age: 25\n//   }\n// })\n// let render2 = compileToFunction(`<div id=\"aaa\" b=\"2\">\n//   <div style=\"background:blue\" key=\"C\">C</div>\n//   <div style=\"background:yellow\" key=\"B\">B</div>\n//   <div style=\"background:red\" key=\"A\">A</div>\n// </div>`)\n// let newVnode = render2.call(vm2)\n\n// //新旧节点做比对\n// setTimeout(() => {\n//   patch(vnode, newVnode)\n// }, 10000)\nexport default Vue\n"],"names":["gen","node","type","generate","text","tokens","trim","textEndIndex","indexOf","execEndIndex","push","slice","JSON","stringify","join","genChildren","el","children","length","map","c","directiveStr","directive","attrs","code","tag","isUnaryTag","tagName","unaryTag","includes","parserVModel","modelExp","typeExp","split","replace","modelValue","vModel","value","parserVBind","bindingExp","bindingKey","bindingValue","parserVOn","onExp","event","callback","parserHTML","html","root","stack","createAstElement","parent","start","attributes","element","end","last","pop","Error","chars","advance","len","parserAttrs","filter","a","attrStr","i","attr","attrName","attrValue","obj","forEach","item","key","parserStartTag","content","firstSpaceIdx","styleStartIdx","styleStr","styleEndIndex","lastIndexOf","attrArr","findIndex","splice","vOn","vBind","parserEndTag","tagStart","tagEnd","textEnd","startTagMatch","endTagMatch","compileToFunction","template","renderFn","Function","id","Dep","subs","target","addDep","watcher","update","pushTarget","popTarget","isObject","def","data","Object","defineProperty","enumerable","configurable","proxy","vm","source","get","set","newValue","oldArrayMethods","Array","prototype","arrayMetods","create","methods","method","args","result","apply","inserted","ob","__ob__","observerArray","dep","notify","dependArray","current","depend","isArray","defineReactive","childOb","observe","Observer","__proto__","walk","keys","v","callbacks","waiting","flushCallback","cb","nextTick","setTimeout","queue","has","flushSchedularQueue","run","queueWatcher","Watcher","expOrFn","options","user","lazy","dirty","depsId","Set","deps","getter","path","reduce","prev","next","undefined","call","add","addSub","oldValue","stateMixin","Vue","$watch","handler","initState","opts","$options","props","initProps","initMethods","initData","computed","initComputed","watch","initWatch","_methods","_data","watchers","_computedWatchers","userDef","_computedWatcher","defineComputed","createWatcher","createComputedGetter","computedGetter","evaluate","sharedProperty","patch","oldVnode","vnode","console","log","createElm","isRealElement","nodeType","oldElm","parentElm","parentNode","insertBefore","nextSibling","removeChild","replaceChild","textContent","updatePropertys","oldChildren","newChildren","updateChildren","child","appendChild","innerHTML","isSameVnode","newVnode","oldStartIndex","oldStartVnode","oldEndIndex","oldEndVnode","newStartIndex","newStartVnode","newEndIndex","newEndVnode","makeIndexByKey","index","moveIndex","moveVnode","flag","oldProps","newProps","newStyle","style","oldStyle","removeAttribute","styleName","className","setVModel","toLowerCase","setVOn","setVBind","setAttribute","createComponent","hooks","init","componentInstance","$el","document","createElement","createTextNode","context","$nextTick","addEventListener","checked","eventName","lifecycleMixin","_update","prevVNode","_vnode","mountComponent","callHook","updateComponent","_render","hook","handlers","strats","LIFECYCLE_HOOKS","mergeHook","parentVal","childVal","concat","components","mergeAssets","res","mergeOptions","mergeField","hasOwnProperty","initMixin","_init","constructor","$mount","querySelector","render","outerHTML","isReservedTag","reservedTag","Ctor","_base","extend","_isComponent","cid","componentOptions","renderMixin","_c","arguments","_v","_s","ASSETS_TYPE","initAssetsRegister","definition","initExtend","Super","Sub","VueComponent","mixin","initGolbalAPI"],"mappings":"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"}